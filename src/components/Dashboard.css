/* src/components/Dashboard.css */

/* Keep the whole page from horizontal scrolling */
.dashboard-container { overflow-x: hidden; }

/* Main container */
.dash-wrap {
  max-width: 1200px;
  margin: 24px auto 0;
  padding: 0 16px;
}
.dash-wrap > * { min-width: 0; } /* let grid children shrink */

/* ---------- shared section header ---------- */
.section-title{
  display:flex; align-items:center; justify-content:space-between;
  gap:10px; margin-bottom:8px;
}
.section-title__left{ display:flex; align-items:center; gap:10px; min-width:0; }
.section-title__icon{ padding:8px; border-radius:12px; background:rgba(0,0,0,.05); }
.section-title__text{
  /* fluid, never huge on phones */
  font-weight:700;
  font-size: clamp(14px, 2.2vw, 18px);
  margin:0;
  white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
}
.section-title__action{ cursor:pointer; color:#6366f1; }

/* ---------- KPI row ---------- */
.kpi-grid{
  display:grid;
  grid-template-columns:repeat(4, minmax(220px,1fr));
  gap:16px; margin-bottom:24px;
}

/* ---------- 2:1 rows (charts & table) ---------- */
.grid-2-1{
  display:grid; grid-template-columns:2fr 1fr;
  gap:16px; margin-bottom:24px;
}
.grid-2-1 > *{ min-width:0; }

/* ---------- budgets + goals block ---------- */
.budgets-goals{
  display:grid; grid-template-columns:1fr 1fr;
  gap:16px; margin-bottom:24px;
}

.budgets-grid{
  display:grid; gap:12px; grid-template-columns:1fr 1fr;
}

.goals-grid{
  display:grid; gap:12px; grid-template-columns:repeat(2,1fr);
}

/* ---------- insights row ---------- */
.insights-grid{
  display:grid; gap:12px;
  grid-template-columns:repeat(auto-fit, minmax(220px,1fr));
}

/* ---------- charts ---------- */
:root{ --chart-h:260px; }
.chart-box{ height:var(--chart-h); }

/* Recharts sometimes overflows; clamp it to card width */
.recharts-wrapper,
.recharts-surface,
.recharts-responsive-container{ max-width:100% !important; }

/* ---------- typography inside cards (small, tidy) ---------- */
.kpi-head{ display:flex; align-items:center; justify-content:space-between; }
.kpi-label{ color:#6b7280; font-size:13px; }
.kpi-icon{ padding:8px; border-radius:12px; background:rgba(0,0,0,.05); }
.kpi-value{ margin-top:6px; font-size:24px; font-weight:800; }
.kpi-delta{ margin-top:4px; font-size:12px; font-weight:600; display:flex; gap:6px; align-items:center; }
.kpi-delta.up{ color:#059669; } .kpi-delta.down{ color:#dc2626; }

.budget-head{ display:flex; align-items:center; justify-content:space-between; margin-bottom:8px; }
.budget-name{ font-weight:600; }
.budget-amount{ font-size:13px; color:#6b7280; }
.budget-amount.over{ color:#dc2626; }
.budget-bar{ height:8px; border-radius:999px; background:#e5e7eb; overflow:hidden; }
.budget-bar__fill{ height:100%; background:#6366f1; border-radius:999px; transition:width .3s ease; }
.budget-bar__fill.over{ background:#ef4444; }
.budget-bar__fill.success{ background:#10b981; }

.goal-head{ display:flex; align-items:center; justify-content:space-between; margin-bottom:4px; }
.goal-name{ font-weight:600; font-size:14px; }
.goal-amount{ font-size:12px; color:#6b7280; margin-bottom:8px; }
.goal-delete{ cursor:pointer; color:#9ca3af; flex-shrink:0; }

/* Transactions table in the card */
.table-title{ padding:12px 16px; font-size:13px; font-weight:700; border-bottom:1px solid #eee; }
.tx-row{
  padding:12px 16px; display:flex; align-items:center; justify-content:space-between;
  font-size:13px; border-top:1px solid #f3f4f6;
}
.tx-left{ display:flex; align-items:center; gap:10px; }
.tx-dot{ width:10px; height:10px; border-radius:999px; }
.tx-dot.pos{ background:#10b981; } .tx-dot.neg{ background:#ef4444; } .tx-dot.warn{ background:#f59e0b; }
.tx-name{ font-weight:600; }
.tx-meta{ color:#6b7280; font-size:12px; }
.tx-amt.pos{ color:#059669; } .tx-amt.neg{ color:#dc2626; } .tx-amt.warn{ color:#f59e0b; }
.tx-empty{ padding:16px; font-size:13px; color:#6b7280; }

/* ---------- breakpoints ---------- */
@media (max-width:1100px){
  .grid-2-1{ grid-template-columns:1fr !important; }
}

@media (max-width:900px){
  .kpi-grid{ grid-template-columns:repeat(2, minmax(180px,1fr)) !important; }
}

@media (max-width:768px){
  .budgets-goals{ grid-template-columns:1fr !important; }
  .budgets-grid{ grid-template-columns:1fr !important; }
  .goals-grid{ grid-template-columns:1fr !important; }
  :root{ --chart-h:220px; }
  .recharts-default-legend{ display:none !important; } /* legends eat space */
}

@media (max-width:576px){
  .kpi-grid{ grid-template-columns:1fr !important; }
  .dash-wrap{ padding:0 12px; }
  :root{ --chart-h:200px; }
  .recharts-cartesian-axis-tick text{ font-size:10px !important; }
}

@media (max-width:400px){
  .section-title__text{ font-size:14px; }
  .chart-box{ height:180px; }
}

@media (min-width:1440px){
  .dash-wrap{ max-width:1280px; }
}
