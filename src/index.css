/* ===== Vendor & Fonts ===== */
@import "~antd/dist/antd.css";
@import url("https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap");

/* ===== Baseline reset to prevent mobile 'auto-zoom' / uneven sizes ===== */
html {
  box-sizing: border-box;
  -webkit-text-size-adjust: 100%;
  text-size-adjust: 100%;
}
*, *::before, *::after { box-sizing: inherit; }

/* Prevent tiny overflows from causing horizontal scrolling / scaling */
html, body, #root { height: 100%; }
body {
  margin: 0;
  font-family: "Montserrat", sans-serif;
  line-height: 1.6;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  overflow-x: hidden;
}

/* Media fills its container */
img, svg, video, canvas { max-width: 100%; height: auto; display: block; }

/* Avoid min-content blowups that push grids wider than the viewport */
* { min-width: 0; }

/* Inputs inherit your font (prevents iOS zoom jumps) */
input, textarea, select, button {
  font-family: "Montserrat", sans-serif;
  font-size: 16px; /* keeps iOS from zooming on focus */
}

/* Utility for horizontal scroll sections (e.g., tables on mobile) */
.h-scroll { overflow-x: auto; -webkit-overflow-scrolling: touch; }

/* ===== Your theme vars ===== */
:root { --theme: #2970ff; }

/* === MOBILE HOTFIX OVERRIDES (place LAST in index.css) ================== */

/* 1) Never let any child be wider than the viewport */
html, body { overflow-x: hidden; }
* { min-width: 0; }

/* 2) Ant Design <Row> inside top cards was adding negative margins */
.cards-row.ant-row { 
  margin: 2rem !important; 
}
@media (max-width: 576px) {
  .cards-row.ant-row { margin: 1rem !important; }
}

/* 3) Force all dashboard grids to stack earlier, regardless of file order */
@media (max-width: 1100px) {
  .grid-2-1 { grid-template-columns: 1fr !important; }
}
@media (max-width: 900px) {
  .kpi-grid { grid-template-columns: repeat(2, minmax(160px, 1fr)) !important; }
}
@media (max-width: 640px) {
  .kpi-grid,
  .budgets-goals,
  .budgets-grid,
  .goals-grid { grid-template-columns: 1fr !important; }
}

/* 4) Clamp Recharts so charts never overflow their cards */
.recharts-wrapper,
.recharts-surface,
.recharts-responsive-container { max-width: 100% !important; }

/* Hide big legends on small screens (they cause the “zoomed” feel) */
@media (max-width: 780px) {
  .recharts-default-legend { display: none !important; }
}

/* 5) Tame chart text size on small screens */
@media (max-width: 640px) {
  .recharts-cartesian-axis-tick text { font-size: 10px !important; }
}

/* 6) TransactionSearch: wrap controls so they don’t push the page wider */
.ts-toolbar, .ts-header { flex-wrap: wrap !important; }
.ts-actions { width: 100% !important; gap: .75rem; }
.ts-actions button, .ts-actions label { flex: 1 1 48%; }
@media (max-width: 480px) {
  .ts-actions button, .ts-actions label { flex: 1 1 100%; }
}
.my-table .ant-table-container { overflow-x: auto; }

/* 7) Slightly reduce big headings on phones so cards don’t look “zoomed” */
@media (max-width: 400px) {
  .kpi-grid h2, .budgets-goals h2, .insights-grid h2 { font-size: 1rem !important; }
}

/* === FINAL RESPONSIVE OVERRIDES – place at end of index.css === */

/* Clamp all big headings inside the dashboard so they never look “zoomed” */
.dash-wrap h1,
.dash-wrap h2,
.dash-wrap .section-title__text,
.dash-wrap .ant-card-head-title {
  font-size: clamp(14px, 4.2vw, 20px) !important;
  line-height: 1.25 !important;
  margin: 0 !important;
}

/* Clamp the prominent money numbers inside cards (Amounts / KPI values) */
.dash-wrap .money,
.dash-wrap .kpi-value,
.dash-wrap .ant-statistic-content-value {
  font-size: clamp(18px, 6vw, 24px) !important;
  line-height: 1.15 !important;
}

/* Card body padding scales down a touch on smaller screens */
.dash-wrap .ant-card-body {
  padding: clamp(12px, 3.2vw, 16px) !important;
}

/* Recharts: absolutely forbid any overflow wider than the card */
.dash-wrap .recharts-wrapper,
.dash-wrap .recharts-surface,
.dash-wrap .recharts-responsive-container {
  max-width: 100% !important;
  width: 100% !important;
}

/* Collapse dashboard grids earlier, no matter CSS order elsewhere */
@media (max-width: 1100px) { .grid-2-1 { grid-template-columns: 1fr !important; } }
@media (max-width: 900px)  { .kpi-grid  { grid-template-columns: repeat(2, minmax(160px, 1fr)) !important; } }
@media (max-width: 640px)  {
  .kpi-grid, .budgets-goals, .budgets-grid, .goals-grid { grid-template-columns: 1fr !important; }
  .recharts-default-legend { display: none !important; }  /* legends steal space on phones */
  .recharts-cartesian-axis-tick text { font-size: 10px !important; }
}

/* Safety net: nothing in the dashboard should create horizontal scroll */
.dashboard-container, .dash-wrap { overflow-x: hidden !important; }
.dash-wrap > * { min-width: 0 !important; }
